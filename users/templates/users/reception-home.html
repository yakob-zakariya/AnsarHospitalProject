{% extends "users/base2.html" %} {% block content %}

<!-- Breadcrumb -->
<!-- Page Title -->
<div class="container mt-0">
  <div class="row breadcrumb-bar">
    <div class="col-md-6">
      <h3 class="block-title">Quick Statistics</h3>
    </div>
    <div class="col-md-6">
      <ol class="breadcrumb">
        <li class="breadcrumb-item">
          <a href="index.html">
            <span class="ti-home"></span>
          </a>
        </li>
        <li class="breadcrumb-item active">Dashboard</li>
      </ol>
    </div>
  </div>
</div>
<!-- /Page Title -->
<!-- /Breadcrumb -->
<!-- Main Content -->
<div class="container home">
  <div class="row">
    <!-- Widget Item -->
    <div class="col-md-4">
      <div class="widget-area proclinic-box-shadow color-red">
        <div class="widget-left">
          <span class="ti-user"></span>
        </div>
        <div class="widget-right">
          <h4 class="wiget-title">Patients</h4>
          <span class="numeric color-red">{{all_patients}}</span>
          <p class="inc-dec mb-0">
            <span class="ti-angle-up"></span> +20% Increased
          </p>
        </div>
      </div>
    </div>
    <!-- /Widget Item -->
    <!-- Widget Item -->
    <div class="col-md-4">
      <div class="widget-area proclinic-box-shadow color-green">
        <div class="widget-left">
          <span class="ti-bar-chart"></span>
        </div>
        <div class="widget-right">
          <h4 class="wiget-title">Appointments</h4>
          <span class="numeric color-green">{{all_appointments}}</span>
          <p class="inc-dec mb-0">
            <span class="ti-angle-down"></span> -15% Decreased
          </p>
        </div>
      </div>
    </div>
    <!-- /Widget Item -->
    <!-- Widget Item -->
    <div class="col-md-4">
      <div class="widget-area proclinic-box-shadow color-yellow">
        <div class="widget-left">
          <span class="ti-money"></span>
        </div>
        <div class="widget-right">
          <h4 class="wiget-title">Total Revenue on {{today}}</h4>
          <span class="numeric color-yellow">${{sum}}</span>
          <p class="inc-dec mb-0">
            <span class="ti-angle-up"></span> +10% Increased
          </p>
        </div>
      </div>
    </div>
    <!-- /Widget Item -->
  </div>

  {% comment %}
  <div class="row">
    <!-- Widget Item -->
    <div class="col-md-6">
      <div class="widget-area-2 proclinic-box-shadow">
        <h3 class="widget-title">Appointments Year by Year</h3>
        <div id="lineMorris" class="chart-home"></div>
      </div>
    </div>
    <!-- /Widget Item -->
    <!-- Widget Item -->
    <div class="col-md-6">
      <div class="widget-area-2 proclinic-box-shadow">
        <h3 class="widget-title">Patients Year by Year</h3>
        <div id="barMorris" class="chart-home"></div>
      </div>
    </div>
    <!-- /Widget Item -->
  </div>
  {% endcomment %}

  <div class="row">
    <!-- Widget Item -->
    <div class="col-md-12">
      <div class="widget-area-2 proclinic-box-shadow">
        <h3 class="widget-title">Active Appointments</h3>
        <div class="table-responsive">
          <table class="table table-bordered table-striped">
            <thead>
              <tr>
                <th>Patient ID</th>
                <th>Patient Name</th>
                <th>Doctor</th>

                <th>Date</th>
                <th>Status</th>
                <th>Detail</th>
              </tr>
            </thead>
            <tbody>
              {% for appointment in active_appointments %}
              <tr>
                <td>{{appointment.patient.id}}</td>
                <td>
                  {{appointment.patient.first_name}}
                  {{appointment.patient.last_name}}
                </td>
                <td>{{appointment.doctor.username}}</td>

                <td>{{appointment.appointment_date}}</td>
                <td>
                  <span class="badge badge-success"
                    >{{appointment.appointment_status}}</span
                  >
                </td>
                <td>
                  <a
                    href="http://127.0.0.1:8000/tests/patient-detail/{{appointment.patient.id}}"
                    type="button"
                    class="btn btn-primary btn-sm mb-0"
                  >
                    <span class="ti-pencil-alt"></span> See detail
                  </a>
                </td>
              </tr>

              {% endfor %}
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <!-- /Widget Item -->
  </div>

  <div class="row">
    <!-- Widget Item -->
    <div class="col-sm-6">
      <div class="widget-area-2 proclinic-box-shadow">
        <h3 class="widget-title">Appointments Status</h3>
        <div id="donutMorris" class="chart-home"></div>
      </div>
    </div>
    <!-- /Widget Item -->
    <!-- Widget Item -->
    <div class="col-md-6">
      <div class="widget-area-2 progress-status proclinic-box-shadow">
        <h3 class="widget-title">Doctors Availability</h3>
        <div class="table-responsive">
          <table class="table table-bordered">
            <thead>
              <tr>
                <th>Doctor</th>
                <th>Speciality</th>
                <th>Availability</th>
              </tr>
            </thead>
            <tbody>
              <tr>
                <td>Rajesh</td>
                <td>Dental</td>
                <td>
                  <span class="badge badge-success">Available</span>
                </td>
              </tr>
              <tr>
                <td>Riya</td>
                <td>Ortho</td>
                <td>
                  <span class="badge badge-warning">On Leave</span>
                </td>
              </tr>
              <tr>
                <td>Siri</td>
                <td>Skin</td>
                <td>
                  <span class="badge badge-danger">Not Available</span>
                </td>
              </tr>
              <tr>
                <td>Rajesh</td>
                <td>Dental</td>
                <td>
                  <span class="badge badge-success">Available</span>
                </td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </div>
    <!-- /Widget Item -->
  </div>
</div>
<!-- /Main Content -->
{% endblock content %}
